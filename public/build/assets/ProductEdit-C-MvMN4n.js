import{e as F,a as S,_ as T,d as U,b as B,c as C}from"./SelectScrollDownButton.vue_vue_type_script_setup_true_lang-DeTFPBJC.js";import{u as Q,t as Y,o as Z,s as w,n as q,_ as f,a as g,b as m,c as y,F as h}from"./vee-validate-zod.esm-ZQsEbWY4.js";import{d as G,Q as I,r as O,T as R,x as W,o,c as u,b as a,u as e,a as x,w as s,e as k,i as p,g as P,F as X,Z as ee,f as d,n as b,m as v,t as c,p as J}from"./app-Y4DJtkGr.js";import{_ as j}from"./index-Cw_6hI5O.js";import{_ as D}from"./Input.vue_vue_type_script_setup_true_lang-DyQ9LcWV.js";import{_ as ae}from"./InputTipTap.vue_vue_type_style_index_0_lang-CmE4o68j.js";import{_ as E,a as K}from"./index-BNvaLrdb.js";import{_ as se}from"./AlertTitle.vue_vue_type_script_setup_true_lang-B6JDbIu2.js";import{B as te}from"./Backoffice-C_-k1LNY.js";import{T as le}from"./triangle-alert-B1qZfN3t.js";import"./index-C-SzwXne.js";import"./utils--eAPk3wG.js";import"./bundle-mjs-Dk7hgz7r.js";import"./CheckIcon-Dw0RyBC6.js";import"./Label.vue_vue_type_script_setup_true_lang-CoQ5bfea.js";/* empty css            */import"./shadcn-BWvbMO9Q.js";import"./index-CdjMX5o9.js";import"./createLucideIcon-D0yHbDwB.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./store-XU1zT8N0.js";import"./circle-user-DENf2Y_4.js";import"./badge-info-wbUjeRk1.js";const re={class:"block w-1/2 mx-auto space-y-2"},oe={class:"space-y-2"},ie={class:"flex items-center justify-between"},de=x("h1",{class:"text-lg font-semibold md:text-xl"},"Edit Produk",-1),ne={class:"flex gap-2"},ue={key:0},me={key:1,class:"mx-10"},ce={key:0,class:"text-xs text-red-500 font-medium"},pe={key:0,class:"text-xs text-red-500 font-medium"},_e={key:0,class:"text-xs text-red-500 font-medium"},fe={key:0,class:"text-xs text-red-500 font-medium"},ge={key:0,class:"text-xs text-red-500 font-medium"},ye={key:0,class:"text-xs text-red-500 font-medium"},he={layout:te},Ae=G({...he,__name:"ProductEdit",props:{product:{},shops:{},categories:{}},setup(L){const N=L,H=I(),M=Y(Z({name:w({message:"Nama Produk harus diisi"}).min(1,{message:"Nama Produk harus diisi."}),type:w({message:"Jenis Produk harus dipilih"}),category:w({message:"Kategori Produk harus dipilih"}),price:q({message:"Harga Produk harus diisi"}),description:w()})),_=Q({validationSchema:M}),z=O([{label:"Jasa",value:"jasa"},{label:"Produk Jadi",value:"produk"}]),t=R({_token:H.props.csrf_token,name:"",type:"",category:"",price:0,shop:"",description:""}),A=()=>{X.get(route("backoffice.product.index"))},$=_.handleSubmit(r=>{t.put(route("backoffice.product.update",N.product.id))});return W(()=>N.product,r=>{_.setFieldValue("name",r.name),_.setFieldValue("type",r.type),_.setFieldValue("price",r.price),_.setFieldValue("category",r.category_id),_.setFieldValue("description",r.description),t.name=r.name,t.type=r.type,t.category=r.category_id,t.price=r.price,t.shop=r.shop_id,t.description=r.description,console.log(r.description)},{immediate:!0}),(r,i)=>(o(),u(P,null,[a(e(ee),{title:"Edit Produk"}),x("div",re,[x("div",oe,[x("div",ie,[de,x("div",ne,[a(e(j),{type:"button",variant:"ghost",form:"dialogForm",onClick:A,disabled:e(t).processing},{default:s(()=>[d(" Batal ")]),_:1},8,["disabled"]),a(e(j),{type:"submit",onClick:e($),disabled:e(t).processing},{default:s(()=>[e(t).processing?(o(),u("span",ue,"Menyimpan data...")):(o(),u("span",me,"Simpan"))]),_:1},8,["onClick","disabled"])])])]),a(e(K),{class:"bg-secondary shadow-inner shadow-gray-100 max-w-2xl"},{default:s(()=>[a(e(E),{class:"text-xs"},{default:s(()=>[d(" Silahkan anda mengisi data produk atau jasa yang akan disediakan dalam siste MY UPJ. ")]),_:1})]),_:1}),x("form",{onSubmit:i[6]||(i[6]=(...n)=>e($)&&e($)(...n)),class:"space-y-2 w-full"},[a(e(h),{name:"name"},{default:s(({componentField:n})=>[a(e(f),null,{default:s(()=>[a(e(g),{class:b({"text-red-500":e(t).errors.name})},{default:s(()=>[d("Nama Produk / Jasa")]),_:1},8,["class"]),a(e(m),null,{default:s(()=>[a(e(D),v({type:"text",placeholder:"nama produk / jasa"},n,{modelValue:e(t).name,"onUpdate:modelValue":i[0]||(i[0]=l=>e(t).name=l),class:["bg-white",{"border border-red-500":e(t).errors.name}],disabled:e(t).processing}),null,16,["modelValue","class","disabled"])]),_:2},1024),e(t).errors.name?(o(),u("div",ce,c(e(t).errors.name),1)):p("",!0),a(e(y))]),_:2},1024)]),_:1}),a(e(h),{name:"type"},{default:s(({componentField:n})=>[a(e(f),null,{default:s(()=>[a(e(g),{class:b({"text-red-500":e(t).errors.type})},{default:s(()=>[d(" Jenis Produk ")]),_:1},8,["class"]),a(e(m),null,{default:s(()=>[a(e(F),v(n,{class:"bg-white",modelValue:e(t).type,"onUpdate:modelValue":i[1]||(i[1]=l=>e(t).type=l)}),{default:s(()=>[a(e(m),null,{default:s(()=>[a(e(S),null,{default:s(()=>[a(e(T),{placeholder:"Pilih Jenis"})]),_:1})]),_:1}),a(e(U),null,{default:s(()=>[a(e(B),null,{default:s(()=>[(o(!0),u(P,null,J(z.value,(l,V)=>(o(),k(e(C),{key:V,value:l.value,class:"bg-white"},{default:s(()=>[d(c(l.label),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:2},1040,["modelValue"])]),_:2},1024),e(t).errors.type?(o(),u("div",pe,c(e(t).errors.type),1)):p("",!0),a(e(y))]),_:2},1024)]),_:1}),a(e(h),{name:"category"},{default:s(({componentField:n})=>[a(e(f),null,{default:s(()=>[a(e(g),{class:b({"text-red-500":e(t).errors.category})},{default:s(()=>[d(" Kategori Produk ")]),_:1},8,["class"]),a(e(m),null,{default:s(()=>[r.categories.length>0?(o(),k(e(F),v({key:0},n,{class:"bg-white",modelValue:e(t).category,"onUpdate:modelValue":i[2]||(i[2]=l=>e(t).category=l)}),{default:s(()=>[a(e(m),null,{default:s(()=>[a(e(S),null,{default:s(()=>[a(e(T),{placeholder:"Pilih Kategori"})]),_:1})]),_:1}),a(e(U),null,{default:s(()=>[a(e(B),null,{default:s(()=>[(o(!0),u(P,null,J(r.categories,(l,V)=>(o(),k(e(C),{key:V,value:l.id,class:"bg-white"},{default:s(()=>[d(c(l.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:2},1040,["modelValue"])):(o(),k(e(K),{key:1,class:"bg-yellow-100"},{default:s(()=>[a(e(le),{class:"w-4 h-4"}),a(e(se),null,{default:s(()=>[d("Peringatan")]),_:1}),a(e(E),null,{default:s(()=>[d(" Data Kategori tidak ditemukan dalam sistem, silahkan ditambahkan terlebih dahulu ")]),_:1})]),_:1}))]),_:2},1024),e(t).errors.category?(o(),u("div",_e,c(e(t).errors.category),1)):p("",!0),a(e(y))]),_:2},1024)]),_:1}),r.shops!==null?(o(),k(e(h),{key:0,name:"shop"},{default:s(({componentField:n})=>[a(e(f),null,{default:s(()=>[a(e(g),{class:b({"text-red-500":e(t).errors.shop})},{default:s(()=>[d(" Unit Layanan ")]),_:1},8,["class"]),a(e(m),null,{default:s(()=>[a(e(F),v(n,{class:"bg-white",modelValue:e(t).shop,"onUpdate:modelValue":i[3]||(i[3]=l=>e(t).shop=l)}),{default:s(()=>[a(e(m),null,{default:s(()=>[a(e(S),null,{default:s(()=>[a(e(T),{placeholder:"Unit Layanan"})]),_:1})]),_:1}),a(e(U),null,{default:s(()=>[a(e(B),null,{default:s(()=>[(o(!0),u(P,null,J(r.shops,(l,V)=>(o(),k(e(C),{key:V,value:l.id,class:"bg-white"},{default:s(()=>[d(c(l.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:2},1040,["modelValue"])]),_:2},1024),e(t).errors.shop?(o(),u("div",fe,c(e(t).errors.shop),1)):p("",!0),a(e(y))]),_:2},1024)]),_:1})):p("",!0),a(e(h),{name:"price"},{default:s(({componentField:n})=>[a(e(f),null,{default:s(()=>[a(e(g),{class:b({"text-red-500":e(t).errors.price})},{default:s(()=>[d(" Harga ")]),_:1},8,["class"]),a(e(m),null,{default:s(()=>[a(e(D),v({type:"number"},n,{modelValue:e(t).price,"onUpdate:modelValue":i[4]||(i[4]=l=>e(t).price=l),class:["bg-white",{"border border-red-500":e(t).errors.price}],disabled:e(t).processing}),null,16,["modelValue","class","disabled"])]),_:2},1024),e(t).errors.price?(o(),u("div",ge,c(e(t).errors.price),1)):p("",!0),a(e(y))]),_:2},1024)]),_:1}),a(e(h),{name:"description"},{default:s(({componentField:n})=>[a(e(f),null,{default:s(()=>[a(e(g),{class:b({"text-red-500":e(t).errors.description})},{default:s(()=>[d(" Deskripsi ")]),_:1},8,["class"]),a(e(m),null,{default:s(()=>[a(ae,{placeholder:"Tuliskan deskripsi produk...",modelValue:e(t).description,"onUpdate:modelValue":i[5]||(i[5]=l=>e(t).description=l)},null,8,["modelValue"])]),_:1}),e(t).errors.description?(o(),u("div",ye,c(e(t).errors.description),1)):p("",!0),a(e(y))]),_:1})]),_:1})],32)])],64))}});export{Ae as default};
