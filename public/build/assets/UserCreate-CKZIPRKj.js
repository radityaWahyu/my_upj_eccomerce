import{e as D,a as K,_ as j,d as I,b as z,c as A}from"./SelectScrollDownButton.vue_vue_type_script_setup_true_lang-Iw2ALe1q.js";import{u as E,t as L,o as M,s as f,_,a as w,b as c,c as g,F as h}from"./vee-validate-zod.esm-BuJycqYT.js";import{d as Q,Q as Z,T as q,o,c as i,b as s,u as e,a as x,w as r,i as u,e as P,g as $,F as G,Z as H,f as n,n as y,m as b,p as J,t as p}from"./app-CB_Q1yd6.js";import{_ as v}from"./index-D4Ie_lJy.js";import{_ as V}from"./Input.vue_vue_type_script_setup_true_lang-D54lCQEL.js";import{_ as F,a as S}from"./index-Dao5mdM1.js";import{_ as O}from"./AlertTitle.vue_vue_type_script_setup_true_lang-CYwTo7kE.js";import{B as R}from"./Backoffice-B6AXC8lO.js";import{T as W}from"./triangle-alert-DxY52lw5.js";import"./index-CfPuhHd9.js";import"./utils--eAPk3wG.js";import"./bundle-mjs-Dk7hgz7r.js";import"./CheckIcon-CGfPqg5k.js";import"./Label.vue_vue_type_script_setup_true_lang-CHMMUy1W.js";/* empty css            */import"./shadcn-BWvbMO9Q.js";import"./index-C2XJz47D.js";import"./createLucideIcon-BsoM3zrU.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./store-ct7EYkSP.js";import"./circle-user-Dao3zDS1.js";import"./badge-info-CC5SfLbS.js";const X={class:"block w-1/2 mx-auto space-y-2"},Y={class:"space-y-2"},ee={class:"flex items-center justify-between"},se=x("h1",{class:"text-lg font-semibold md:text-xl"},"Form User",-1),ae={key:0,class:"flex gap-2"},re={key:0},oe={key:1,class:"mx-10"},te={key:0,class:"text-xs text-red-500 font-medium"},le={key:0,class:"text-xs text-red-500 font-medium"},ie={key:0,class:"text-xs text-red-500 font-medium"},de={key:0,class:"text-xs text-red-500 font-medium"},ne={layout:R},De=Q({...ne,__name:"UserCreate",props:{employees:{}},setup(me){const U=Z(),C=L(M({username:f({message:"Username harus diisi"}).min(1,{message:"Username harus diisi."}),password:f({message:"Password harus diisi"}).min(5,{message:"Password harus diisi minimal 5 karakter."}),confirmPassword:f({message:"Konfirmasi Password harus diisi"}).min(5,{message:"Password harus diisi minimal 5 karakter."}),employee:f({message:"Pegawai harus dipilih."})}).refine(m=>m.password===m.confirmPassword,{message:"Konfirmasi password tidak sama dengan password",path:["confirmPassword"]})),B=E({validationSchema:C}),a=q({_token:U.props.csrf_token,username:"",password:"",employee:"",confirm_password:""}),T=()=>{G.get(route("backoffice.user.index"))},k=B.handleSubmit(m=>{a.post(route("backoffice.user.store"))});return(m,l)=>(o(),i($,null,[s(e(H),{title:"Data User"}),x("div",X,[x("div",Y,[x("div",ee,[se,m.employees.length>0?(o(),i("div",ae,[s(e(v),{type:"button",variant:"ghost",form:"dialogForm",onClick:T,disabled:e(a).processing},{default:r(()=>[n(" Batal ")]),_:1},8,["disabled"]),s(e(v),{type:"submit",onClick:e(k),disabled:e(a).processing},{default:r(()=>[e(a).processing?(o(),i("span",re,"Menyimpan data...")):(o(),i("span",oe,"Simpan"))]),_:1},8,["onClick","disabled"])])):u("",!0)])]),m.employees.length==0?(o(),P(e(S),{key:0,class:"bg-orange-200 shadow-inner shadow-orange-300 max-w-2xl"},{default:r(()=>[s(e(W),{class:"w-5 h-5"}),s(e(O),null,{default:r(()=>[n("Peringatan")]),_:1}),s(e(F),{class:"text-xs"},{default:r(()=>[n(" Data Pegawai masih kosong silahkan mengisi data Pegawai terlebih dahulu. ")]),_:1})]),_:1})):(o(),P(e(S),{key:1,class:"bg-secondary shadow-inner shadow-gray-100 max-w-2xl"},{default:r(()=>[s(e(F),{class:"text-xs"},{default:r(()=>[n(" Silahkan anda mengisi data user sesuai dengan pegawai yang dipilih. ")]),_:1})]),_:1})),m.employees.length>0?(o(),i("form",{key:2,onSubmit:l[4]||(l[4]=(...d)=>e(k)&&e(k)(...d)),class:"space-y-2 w-full"},[s(e(h),{name:"employee"},{default:r(({componentField:d})=>[s(e(_),null,{default:r(()=>[s(e(w),{class:y({"text-red-500":e(a).errors.employee})},{default:r(()=>[n("Nama Pegawai")]),_:1},8,["class"]),s(e(c),null,{default:r(()=>[s(e(D),b(d,{class:"bg-white",modelValue:e(a).employee,"onUpdate:modelValue":l[0]||(l[0]=t=>e(a).employee=t)}),{default:r(()=>[s(e(c),null,{default:r(()=>[s(e(K),null,{default:r(()=>[s(e(j),{placeholder:"Pilih Pegawai"})]),_:1})]),_:1}),s(e(I),null,{default:r(()=>[s(e(z),null,{default:r(()=>[(o(!0),i($,null,J(m.employees,(t,N)=>(o(),P(e(A),{key:N,value:t.id,class:"bg-white"},{default:r(()=>[n(p(t.name)+"-"+p(t.shop),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:2},1040,["modelValue"])]),_:2},1024),e(a).errors.employee?(o(),i("div",te,p(e(a).errors.employee),1)):u("",!0),s(e(g))]),_:2},1024)]),_:1}),s(e(h),{name:"username"},{default:r(({componentField:d})=>[s(e(_),null,{default:r(()=>[s(e(w),{class:y({"text-red-500":e(a).errors.username})},{default:r(()=>[n("Username")]),_:1},8,["class"]),s(e(c),null,{default:r(()=>[s(e(V),b({type:"text",placeholder:"Input username"},d,{modelValue:e(a).username,"onUpdate:modelValue":l[1]||(l[1]=t=>e(a).username=t),class:["bg-white",{"border border-red-500":e(a).errors.username}],disabled:e(a).processing}),null,16,["modelValue","class","disabled"])]),_:2},1024),e(a).errors.username?(o(),i("div",le,p(e(a).errors.username),1)):u("",!0),s(e(g))]),_:2},1024)]),_:1}),s(e(h),{name:"password"},{default:r(({componentField:d})=>[s(e(_),null,{default:r(()=>[s(e(w),{class:y({"text-red-500":e(a).errors.password})},{default:r(()=>[n("Password")]),_:1},8,["class"]),s(e(c),null,{default:r(()=>[s(e(V),b({type:"password",placeholder:"Input password"},d,{modelValue:e(a).password,"onUpdate:modelValue":l[2]||(l[2]=t=>e(a).password=t),class:["bg-white",{"border border-red-500":e(a).errors.password}],disabled:e(a).processing}),null,16,["modelValue","class","disabled"])]),_:2},1024),e(a).errors.password?(o(),i("div",ie,p(e(a).errors.password),1)):u("",!0),s(e(g))]),_:2},1024)]),_:1}),s(e(h),{name:"confirmPassword"},{default:r(({componentField:d})=>[s(e(_),null,{default:r(()=>[s(e(w),{class:y({"text-red-500":e(a).errors.confirm_password})},{default:r(()=>[n("Konfirmasi Password")]),_:1},8,["class"]),s(e(c),null,{default:r(()=>[s(e(V),b({type:"password",placeholder:"Konfirmasi password"},d,{modelValue:e(a).confirm_password,"onUpdate:modelValue":l[3]||(l[3]=t=>e(a).confirm_password=t),class:["bg-white",{"border border-red-500":e(a).errors.confirm_password}],disabled:e(a).processing}),null,16,["modelValue","class","disabled"])]),_:2},1024),e(a).errors.confirm_password?(o(),i("div",de,p(e(a).errors.confirm_password),1)):u("",!0),s(e(g))]),_:2},1024)]),_:1})],32)):u("",!0)])],64))}});export{De as default};
