import{u as B,t as N,o as T,s as c,_ as f,a as _,b as w,c as b,F as g}from"./vee-validate-zod.esm-BuJycqYT.js";import{d as D,Q as K,T as j,o as d,c as l,b as e,u as s,a as i,w as r,g as E,F as I,Z as z,f as n,m as x,n as V,t as F,i as S}from"./app-CB_Q1yd6.js";import{_ as v}from"./index-D4Ie_lJy.js";import{_ as y}from"./Input.vue_vue_type_script_setup_true_lang-D54lCQEL.js";import{_ as M,a as Q}from"./index-Dao5mdM1.js";import{B as Z}from"./Backoffice-B6AXC8lO.js";import"./index-CfPuhHd9.js";import"./utils--eAPk3wG.js";import"./bundle-mjs-Dk7hgz7r.js";import"./Label.vue_vue_type_script_setup_true_lang-CHMMUy1W.js";/* empty css            */import"./shadcn-BWvbMO9Q.js";import"./index-C2XJz47D.js";import"./createLucideIcon-BsoM3zrU.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./store-ct7EYkSP.js";import"./circle-user-Dao3zDS1.js";import"./badge-info-CC5SfLbS.js";import"./triangle-alert-DxY52lw5.js";const q={class:"block w-1/2 mx-auto space-y-2"},A={class:"space-y-2"},G={class:"flex items-center justify-between"},H=i("h1",{class:"text-lg font-semibold md:text-xl"},"Form User",-1),J={class:"flex gap-2"},L={key:0},O={key:1,class:"mx-10"},R={key:0,class:"text-xs text-red-500 font-medium"},W={key:0,class:"text-xs text-red-500 font-medium"},X={key:0,class:"text-xs text-red-500 font-medium"},Y={layout:Z},ys=D({...Y,__name:"UserEdit",props:{user:{}},setup(P){const m=P,$=K(),C=N(T({username:c(),password:c().optional(),employee:c().optional(),confirmPassword:c().optional()}).refine(p=>p.password===p.confirmPassword,{message:"Konfirmasi password tidak sama dengan password",path:["confirmPassword"]})),h=B({validationSchema:C});h.setFieldValue("employee",m.user.name+"-"+m.user.shop),h.setFieldValue("username",m.user.username);const a=j({_token:$.props.csrf_token,username:m.user.username,password:"",confirm_password:""}),U=()=>{I.get(route("backoffice.user.index"))},k=h.handleSubmit(p=>{a.put(route("backoffice.user.update",m.user.id))});return(p,t)=>(d(),l(E,null,[e(s(z),{title:"Data User"}),i("div",q,[i("div",A,[i("div",G,[H,i("div",J,[e(s(v),{type:"button",variant:"ghost",form:"dialogForm",onClick:U,disabled:s(a).processing},{default:r(()=>[n(" Batal ")]),_:1},8,["disabled"]),e(s(v),{type:"submit",onClick:s(k),disabled:s(a).processing},{default:r(()=>[s(a).processing?(d(),l("span",L,"Menyimpan data...")):(d(),l("span",O,"Simpan"))]),_:1},8,["onClick","disabled"])])])]),e(s(Q),{class:"bg-secondary shadow-inner shadow-gray-100 max-w-2xl"},{default:r(()=>[e(s(M),{class:"text-xs"},{default:r(()=>[n(" Silahkan anda mengisi data user sesuai dengan pegawai yang dipilih. ")]),_:1})]),_:1}),i("form",{onSubmit:t[3]||(t[3]=(...o)=>s(k)&&s(k)(...o)),class:"space-y-2 w-full"},[e(s(g),{name:"employee"},{default:r(({componentField:o})=>[e(s(f),null,{default:r(()=>[e(s(_),null,{default:r(()=>[n("Nama Pegawai")]),_:1}),e(s(w),null,{default:r(()=>[e(s(y),x(o,{disabled:""}),null,16)]),_:2},1024),e(s(b))]),_:2},1024)]),_:1}),e(s(g),{name:"username"},{default:r(({componentField:o})=>[e(s(f),null,{default:r(()=>[e(s(_),{class:V({"text-red-500":s(a).errors.username})},{default:r(()=>[n("Username")]),_:1},8,["class"]),e(s(w),null,{default:r(()=>[e(s(y),x({type:"text",placeholder:"Input username"},o,{modelValue:s(a).username,"onUpdate:modelValue":t[0]||(t[0]=u=>s(a).username=u),class:["bg-white",{"border border-red-500":s(a).errors.username}],disabled:s(a).processing}),null,16,["modelValue","class","disabled"])]),_:2},1024),s(a).errors.username?(d(),l("div",R,F(s(a).errors.username),1)):S("",!0),e(s(b))]),_:2},1024)]),_:1}),e(s(g),{name:"password"},{default:r(({componentField:o})=>[e(s(f),null,{default:r(()=>[e(s(_),{class:V({"text-red-500":s(a).errors.password})},{default:r(()=>[n("Password")]),_:1},8,["class"]),e(s(w),null,{default:r(()=>[e(s(y),x({type:"password",placeholder:"Input password"},o,{modelValue:s(a).password,"onUpdate:modelValue":t[1]||(t[1]=u=>s(a).password=u),class:["bg-white",{"border border-red-500":s(a).errors.password}],disabled:s(a).processing}),null,16,["modelValue","class","disabled"])]),_:2},1024),s(a).errors.password?(d(),l("div",W,F(s(a).errors.password),1)):S("",!0),e(s(b))]),_:2},1024)]),_:1}),e(s(g),{name:"confirmPassword"},{default:r(({componentField:o})=>[e(s(f),null,{default:r(()=>[e(s(_),{class:V({"text-red-500":s(a).errors.confirm_password})},{default:r(()=>[n("Konfirmasi Password")]),_:1},8,["class"]),e(s(w),null,{default:r(()=>[e(s(y),x({type:"password",placeholder:"Konfirmasi password"},o,{modelValue:s(a).confirm_password,"onUpdate:modelValue":t[2]||(t[2]=u=>s(a).confirm_password=u),class:["bg-white",{"border border-red-500":s(a).errors.confirm_password}],disabled:s(a).processing}),null,16,["modelValue","class","disabled"])]),_:2},1024),s(a).errors.confirm_password?(d(),l("div",X,F(s(a).errors.confirm_password),1)):S("",!0),e(s(b))]),_:2},1024)]),_:1})],32)])],64))}});export{ys as default};
