import{_ as A}from"./Checkbox.vue_vue_type_script_setup_true_lang-DeRcbTWM.js";import{_}from"./index-D1zCS5Wi.js";import{_ as E}from"./Input.vue_vue_type_script_setup_true_lang-_hOu9C_S.js";import{_ as W,a as Z}from"./index-BNGvsAbv.js";import{_ as B}from"./index-tmcdMXXy.js";import{d as N,r as v,o as x,c as $,b as l,w as r,u as s,F as b,f as d,a as i,t as w,j as U,e as G,g as Q,h as n,Z as X}from"./app-B6xvMHFU.js";import{_ as Y}from"./DataTable.vue_vue_type_script_setup_true_lang-BvTNMykz.js";import{_ as ee,a as ae,b as te,c as se,d as le,e as oe,f as ne,g as re}from"./AlertDialogCancel.vue_vue_type_script_setup_true_lang-BA_K-BM1.js";import{c as ie}from"./createLucideIcon-BzeKh_4e.js";import{P as ce,A as T,a as C}from"./pen-line-nJnzDF_o.js";import{T as V}from"./trash-Zl46qmc2.js";import{_ as ue}from"./ComboBox.vue_vue_type_script_setup_true_lang-EpTQhpbC.js";import{_ as de}from"./ConfirmDialog.vue_vue_type_script_setup_true_lang-DYEDupoK.js";import{N as pe}from"./no-image-DVr5fu4Z.js";import{B as me}from"./Backoffice-BjShJqbe.js";import{P as fe}from"./plus-JKWuaiA4.js";import{w as ge}from"./index-DG55RHm9.js";import"./index-CyBlgjF_.js";import"./utils--eAPk3wG.js";import"./bundle-mjs-Dk7hgz7r.js";import"./CheckIcon-B6Hysq10.js";import"./shadcn-BWvbMO9Q.js";/* empty css            */import"./Skeleton.vue_vue_type_script_setup_true_lang-DsPWEZ-e.js";import"./AlertTitle.vue_vue_type_script_setup_true_lang-CM5OWKMP.js";import"./TableRow.vue_vue_type_script_setup_true_lang-DdsCH3y2.js";import"./octagon-alert-Qo9r5UFC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./store-DrWB15gp.js";import"./circle-user-uBRqcljR.js";import"./badge-info-DMf57pQz.js";import"./triangle-alert-Bxe-nIw9.js";/**
 * @license lucide-vue-next v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=ie("ImagesIcon",[["path",{d:"M18 22H4a2 2 0 0 1-2-2V6",key:"pblm9e"}],["path",{d:"m22 13-1.296-1.296a2.41 2.41 0 0 0-3.408 0L11 18",key:"nf6bnh"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["rect",{width:"16",height:"16",x:"6",y:"2",rx:"2",key:"12espp"}]]),_e={class:"space-x-2 w-15"},he=N({__name:"ButtonAction",props:{id:{type:String,required:!0}},emits:["deleted","updated"],setup(k,{emit:p}){const g=p,c=v(!1);return(h,t)=>(x(),$("div",_e,[l(s(_),{type:"button",variant:"secondary",size:"icon",onClick:t[0]||(t[0]=u=>s(b).get(h.route("backoffice.product.images",k.id)))},{default:r(()=>[l(s(ve),{class:"w-4 h-4 text-blue-600"})]),_:1}),l(s(_),{type:"button",variant:"secondary",size:"icon",onClick:t[1]||(t[1]=u=>g("updated",k.id))},{default:r(()=>[l(s(ce),{class:"w-4 h-4 text-blue-600"})]),_:1}),l(s(_),{type:"button",variant:"secondary",size:"icon",onClick:t[2]||(t[2]=u=>c.value=!0)},{default:r(()=>[l(s(V),{class:"w-4 h-4 text-tomato"})]),_:1}),l(s(re),{open:c.value},{default:r(()=>[l(s(ee),null,{default:r(()=>[l(s(ae),null,{default:r(()=>[l(s(te),null,{default:r(()=>[d(" Apakah anda ingin menghapus data ini? ")]),_:1}),l(s(se),null,{default:r(()=>[d(" Aksi ini akan menghapus data permanen dari sistem dan tidak bisa di kembalikan. ")]),_:1})]),_:1}),l(s(le),null,{default:r(()=>[l(s(oe),{onClick:t[3]||(t[3]=u=>c.value=!1),class:"border-none"},{default:r(()=>[d(" Batalkan ")]),_:1}),l(s(ne),{onClick:t[4]||(t[4]=u=>g("deleted",k.id)),class:"bg-tomato"},{default:r(()=>[d(" Hapus Data ")]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]))}}),ke={class:"flex items-center gap-4"},ye={class:"w-1/8"},be={class:"h-14 w-14 rounded-lg overflow-hidden"},xe=["src","alt"],we={class:"capitalize font-normal space-y-1"},$e={class:"font-semibold text-gray-900 text-sm space-x-2"},Pe={class:"text-xs"},Te=i("span",null,"diinputkan oleh : ",-1),Ce=N({__name:"ProductDetail",props:{product:{}},setup(k){return(p,g)=>(x(),$("div",ke,[i("div",ye,[i("div",be,[i("img",{src:p.product.image?p.product.image:s(pe),alt:p.product.name,class:"object-cover object-top w-full h-full"},null,8,xe)])]),i("div",we,[i("h4",$e,[i("span",null,w(p.product.name),1),l(s(B),{variant:"secondary"},{default:r(()=>[d(w(p.product.type),1)]),_:1})]),i("p",Pe,[Te,d(w(p.product.user),1)])])]))}}),Ne={class:"space-y-2 mx-auto w-full"},Se={class:"space-y-2"},je={class:"flex items-center justify-between"},De=i("h1",{class:"text-lg font-semibold md:text-xl"}," Produk dan Jasa ",-1),Ie={class:"flex gap-2"},Ae={key:0,class:"flex gap-2"},Ue=i("strong",null,"+ tambah",-1),Be={class:"w-full"},Ve={class:"flex items-center justify-between py-4"},Le={class:"inline-flex items-center gap-3"},Fe=i("p",{class:"text-xs font-medium"},"Data Perpage :",-1),He={layout:me},ha=N({...He,__name:"Index",props:{products:Object,params:Object,shop:{required:!1,type:Object}},setup(k){var S,j,D,I;const p=v([{value:10,label:10},{value:25,label:25},{value:50,label:50},{value:100,label:100}]),g=v(!1),c=k,h=v((S=c.params)==null?void 0:S.search),t=v({sortName:(j=c.params)==null?void 0:j.sortName,sortType:(D=c.params)==null?void 0:D.sortType,perPage:(I=c.params)==null?void 0:I.perPage}),u=v({open:!1,cancelText:"Batalkan",okText:"Hapus Data"}),L=e=>new Intl.NumberFormat("en-ID",{style:"currency",currency:"IDR"}).format(e),P=v(null),F=[{id:"select",header:({table:e})=>n(A,{checked:e.getIsAllPageRowsSelected()||e.getIsSomePageRowsSelected()&&"indeterminate","onUpdate:checked":a=>{console.log(a),a?e.getRowModel().rows.forEach(q=>{m.value.push(q.original.id)}):(m.value=[],e.resetRowSelection()),e.toggleAllPageRowsSelected(!!a)},ariaLabel:"Select all"}),cell:({row:e})=>n(A,{class:"mr-5",id:"check",checked:e.getIsSelected(),"onUpdate:checked":a=>{a?m.value.push(e.original.id):m.value=m.value.filter(o=>o!==e.original.id),e.toggleSelected(!!a)},ariaLabel:"Select row"}),enableSorting:!1,enableHiding:!1},{accessorKey:"name",header:({column:e})=>n(_,{variant:"ghost",onClick:()=>{t.value.sortName="name",t.value.sortType=="asc"?t.value.sortType="desc":t.value.sortType="asc",y(f.value.current_page)},class:"w-full flex justify-between text-left px-0"},()=>{var a,o;return[n("div",{class:"gap-2 flex items-center "},[((a=c.params)==null?void 0:a.sortType)=="desc"&&((o=c.params)==null?void 0:o.sortName)=="name"?n(T,{class:"h-4 w-4"}):n(C,{class:"h-4 w-4"}),"Nama Produk / Jasa"])]}),cell:({row:e})=>n(Ce,{product:e.original})},{accessorKey:"category",header:({column:e})=>n(_,{variant:"ghost",onClick:()=>{t.value.sortName="category",t.value.sortType=="asc"?t.value.sortType="desc":t.value.sortType="asc",y(f.value.current_page)},class:"w-full flex justify-between text-left px-0"},()=>{var a,o;return[n("div",{class:"gap-2 flex items-center "},[((a=c.params)==null?void 0:a.sortType)=="desc"&&((o=c.params)==null?void 0:o.sortName)=="category"?n(T,{class:"h-4 w-4"}):n(C,{class:"h-4 w-4"}),"Kategori"])]}),cell:({row:e})=>n("div",{},e.original.category)},{accessorKey:"shop",header:({column:e})=>n(_,{variant:"ghost",onClick:()=>{t.value.sortName="shop",t.value.sortType=="asc"?t.value.sortType="desc":t.value.sortType="asc",y(f.value.current_page)},class:"w-full flex justify-between text-left px-0"},()=>{var a,o;return[n("div",{class:"gap-2 flex items-center "},[((a=c.params)==null?void 0:a.sortType)=="desc"&&((o=c.params)==null?void 0:o.sortName)=="name"?n(T,{class:"h-4 w-4"}):n(C,{class:"h-4 w-4"}),"Unit Layanan"])]}),cell:({row:e})=>n(B,{class:"bg-blue-800"},e.original.shop)},{accessorKey:"price",header:({column:e})=>n("div",{class:"text-right"},"Harga Satuan"),cell:({row:e})=>n("div",{class:"text-right"},L(e.original.price))},{id:"actions",enableHiding:!1,cell:({row:e})=>{const a=e.original.id;return n("div",{class:"relative text-center"},n(he,{id:a,onDeleted:o=>R(o),onUpdated:o=>b.get(route("backoffice.product.edit",o))}))}}],m=v([]),H=U(()=>{var e;return(e=c.products)==null?void 0:e.data}),f=U(()=>{var e;return(e=c.products)==null?void 0:e.meta}),O=e=>{const a=v({page:e,perPage:t.value.perPage});return t.value.sortName!==null&&t.value.sortType!==null&&Object.assign(a.value,{sortName:t.value.sortName,sortType:t.value.sortType}),h!==null&&Object.assign(a.value,{search:h}),a},y=e=>{const a=O(e);b.get(route("backoffice.product.index"),a.value,{only:["products","params"],preserveState:!0,preserveScroll:!0,onStart:()=>g.value=!0,onFinish:()=>g.value=!1})},R=e=>{b.delete(route("backoffice.product.delete",e),{onStart:()=>g.value=!0,onFinish:()=>g.value=!1})},K=e=>y(e),z=()=>y(1),J=()=>{b.post(route("backoffice.product.delete-all"),{ids:m.value},{onFinish:()=>{var e;m.value=[],(e=P.value)==null||e.resetTable(),u.value.open=!1}})},M=()=>{var e;m.value=[],(e=P.value)==null||e.resetTable()};return ge(h,()=>{y(f.value.current_page)},{debounce:500,maxWait:1e3}),(e,a)=>(x(),$(Q,null,[l(s(X),{title:"Produk dan Jasa"}),i("div",Ne,[i("div",Se,[i("div",je,[De,i("div",Ie,[m.value.length>0?(x(),$("div",Ae,[l(s(_),{variant:"secondary",class:"flex items-center gap-2",onClick:M},{default:r(()=>[d(" Batalkan ")]),_:1}),l(s(_),{variant:"destructive",class:"flex items-center gap-2 font-semibold",size:"icon",onClick:a[0]||(a[0]=o=>u.value.open=!0)},{default:r(()=>[l(s(V),{class:"w-4 h-4","stroke-width":"3px"})]),_:1})])):(x(),G(s(_),{key:1,variant:"default",onClick:a[1]||(a[1]=o=>s(b).get(e.route("backoffice.product.create"))),class:"flex items-center gap-2 font-semibold"},{default:r(()=>[l(s(fe),{class:"w-4 h-4","stroke-width":"3px"}),d(" Tambah Produk & Jasa ")]),_:1}))])]),l(s(Z),{class:"bg-secondary shadow-inner shadow-gray-100 max-w-2xl"},{default:r(()=>[l(s(W),{class:"text-xs"},{default:r(()=>[d(" Halaman untuk memanajemen Produk dan jasa yang terdapat pada setiap Unit Layanan di SMKN 1 Purwosari. Untuk menambah data baru silahkan mengklik tombol "),Ue]),_:1})]),_:1})]),i("div",Be,[i("div",Ve,[l(s(E),{placeholder:"Cari data...",modelValue:h.value,"onUpdate:modelValue":a[2]||(a[2]=o=>h.value=o),class:"w-1/2 bg-white"},null,8,["modelValue"]),i("div",Le,[Fe,l(ue,{lists:p.value,modelValue:t.value.perPage,"onUpdate:modelValue":a[3]||(a[3]=o=>t.value.perPage=o),onChange:z,class:"w-100"},null,8,["lists","modelValue"])])]),l(Y,{ref_key:"productsTable",ref:P,columns:F,data:H.value,"current-page":f.value.current_page,"prev-page":f.value.current_page,"last-page":f.value.last_page,"next-page":f.value.to,total:f.value.total,loading:g.value,"per-page":f.value.per_page,onChangePage:K},null,8,["data","current-page","prev-page","last-page","next-page","total","loading","per-page"])]),l(de,{open:u.value.open,"cancel-text":u.value.cancelText,"ok-text":u.value.okText,onCancel:a[4]||(a[4]=o=>u.value.open=!1),onOk:J},{title:r(()=>[d(" Apakah anda ingin menghapus "+w(m.value.length)+" Data? ",1)]),description:r(()=>[d(" Data akan dihapus secara permanen dari sistem dan tidak bisa di kembalikan, mohon untuk mengecek kembali data yang akan dihapus. ")]),_:1},8,["open","cancel-text","ok-text"])])],64))}});export{ha as default};
