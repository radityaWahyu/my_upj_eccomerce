import{_ as N}from"./Checkbox.vue_vue_type_script_setup_true_lang-GJ13zQu7.js";import{_ as $}from"./index-dTo3MW_b.js";import{_ as G}from"./Input.vue_vue_type_script_setup_true_lang-B7lcey9E.js";import{_ as Q,a as X}from"./index-BalxbL20.js";import{d as P,r as f,o as x,c as S,b as a,w as l,u as s,f as d,a as o,t as T,j,e as Y,g as ee,h as _,F as y,Z as ae}from"./app-CcFazAT4.js";import{_ as se}from"./DataTable.vue_vue_type_script_setup_true_lang-B6-OP5WL.js";import{_ as te,a as le,b as oe,c as ne,d as B,e as ie,B as re}from"./Backoffice-B-mdA84s.js";import{E as ce,_ as pe,a as F}from"./DropdownMenuShortcut.vue_vue_type_script_setup_true_lang-DN-nxxcB.js";import{_ as de,a as ue,b as me,c as fe,d as _e,e as ge,f as he,g as ve,P as ke}from"./AlertDialogCancel.vue_vue_type_script_setup_true_lang-DRiw9YEI.js";import{T as V}from"./trash-BjTBH_NO.js";import{P as be,A as $e,a as xe}from"./pen-line-B3EpUVL-.js";import{_ as we}from"./ComboBox.vue_vue_type_script_setup_true_lang-D9cG21f_.js";import{_ as ye}from"./ConfirmDialog.vue_vue_type_script_setup_true_lang-sPeaS879.js";import{_ as Se}from"./ShopForm.vue_vue_type_script_setup_true_lang-BwmM9tQi.js";import{w as Te}from"./index-CeCmxIY6.js";import"./index-DX1yMfU2.js";import"./utils--eAPk3wG.js";import"./bundle-mjs-Dk7hgz7r.js";import"./CheckIcon-nIvCC5lv.js";import"./shadcn-BWvbMO9Q.js";/* empty css            */import"./Skeleton.vue_vue_type_script_setup_true_lang-BvjicDaY.js";import"./AlertTitle.vue_vue_type_script_setup_true_lang-BhAQeFqC.js";import"./TableRow.vue_vue_type_script_setup_true_lang-CA0Z_CYi.js";import"./octagon-alert-BcCsv4iD.js";import"./createLucideIcon--e51NMKa.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./store-BxJWbS5g.js";import"./circle-user-CwPudaly.js";import"./badge-info-BStHKAqc.js";import"./triangle-alert-D5YVVUsf.js";import"./DialogFooter.vue_vue_type_script_setup_true_lang-D0cd6hci.js";import"./DialogDescription.vue_vue_type_script_setup_true_lang-Ba0ME3p0.js";import"./vee-validate-zod.esm-Cftct3ZQ.js";import"./Label.vue_vue_type_script_setup_true_lang-DnDUKo-_.js";import"./Textarea.vue_vue_type_script_setup_true_lang-BuYwbGE8.js";import"./InputImage.vue_vue_type_script_setup_true_lang-jkP2wIAP.js";import"./x-CNj2wyhy.js";const Pe=o("span",null,"Hapus Data",-1),Ce=o("span",null,"Edit Data",-1),De=P({__name:"ButtonAction",props:{id:{type:String,required:!0}},emits:["deleted","updated"],setup(b,{emit:g}){const p=g,c=f(!1),v=u=>{p("deleted",u)},r=u=>{p("updated",u)};return(u,n)=>(x(),S("div",null,[a(s(ie),null,{default:l(()=>[a(s(te),{"as-child":""},{default:l(()=>[a(s($),{variant:"outline",size:"icon"},{default:l(()=>[a(s(ce),{class:"w-4 h-4"})]),_:1})]),_:1}),a(s(le),{class:"w-10"},{default:l(()=>[a(s(oe),null,{default:l(()=>[d("Aksi")]),_:1}),a(s(ne)),a(s(pe),null,{default:l(()=>[a(s(B),{onClick:n[0]||(n[0]=k=>c.value=!0)},{default:l(()=>[Pe,a(s(F),null,{default:l(()=>[a(s(V),{class:"w-4 h-4"})]),_:1})]),_:1}),a(s(B),{onClick:n[1]||(n[1]=k=>r(b.id))},{default:l(()=>[Ce,a(s(F),null,{default:l(()=>[a(s(be),{class:"w-4 h-4"})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(s(ve),{open:c.value},{default:l(()=>[a(s(de),null,{default:l(()=>[a(s(ue),null,{default:l(()=>[a(s(me),null,{default:l(()=>[d(" Apakah anda ingin menghapus data ini? ")]),_:1}),a(s(fe),null,{default:l(()=>[d(" Aksi ini akan menghapus data permanen dari sistem dan tidak bisa di kembalikan. ")]),_:1})]),_:1}),a(s(_e),null,{default:l(()=>[a(s(ge),{onClick:n[2]||(n[2]=k=>c.value=!1),class:"border-none"},{default:l(()=>[d(" Batalkan ")]),_:1}),a(s(he),{onClick:n[3]||(n[3]=k=>v(b.id)),class:"bg-tomato"},{default:l(()=>[d(" Hapus Data ")]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]))}}),Ue={class:"flex items-center gap-4"},Ae={class:"w-1/8"},Ne={class:"h-10 w-10 rounded-lg overflow-hidden"},je=["src","alt"],Be={class:"capitalize font-normal space-y-1"},Fe={class:"font-semibold text-gray-900 text-sm"},Ve={class:"text-xs"},Le=o("span",{class:"block"},"Alamat :",-1),He=P({__name:"ShopDetail",props:{shop:{}},setup(b){return(g,p)=>(x(),S("div",Ue,[o("div",Ae,[o("div",Ne,[o("img",{src:g.shop.image,alt:g.shop.name,class:"object-cover object-top w-full h-full"},null,8,je)])]),o("div",Be,[o("h4",Fe,T(g.shop.name),1),o("p",Ve,[Le,d(T(g.shop.address),1)])])]))}}),Ee={class:"space-y-2 mx-auto max-w-2xl"},Ie={class:"space-y-2"},Re={class:"flex items-center justify-between"},Oe=o("h1",{class:"text-lg font-semibold md:text-xl"}," Unit Pelayanan Jasa ",-1),ze={class:"flex gap-2"},Me={key:0,class:"flex gap-2"},qe=o("strong",null,"+ tambah",-1),Je={class:"w-full"},Ke={class:"flex items-center justify-between py-4"},We={class:"inline-flex items-center gap-3"},Ze=o("p",{class:"text-xs font-medium"},"Data Perpage :",-1),Ge={layout:re},Fa=P({...Ge,__name:"Index",props:{shops:{},params:{},shop:{}},setup(b){var C,D,U,A;const g=f([{value:10,label:10},{value:25,label:25},{value:50,label:50},{value:100,label:100}]),p=f(!1),c=b,v=f((C=c.params)==null?void 0:C.search),r=f({sortName:(D=c.params)==null?void 0:D.sortName,sortType:(U=c.params)==null?void 0:U.sortType,perPage:(A=c.params)==null?void 0:A.perPage}),u=f({open:!1,title:"Tambah Unit Layanan"}),n=f({open:!1,cancelText:"Batalkan",okText:"Hapus Data"}),k=f(null),L=[{id:"select",header:({table:e})=>_(N,{checked:e.getIsAllPageRowsSelected()||e.getIsSomePageRowsSelected()&&"indeterminate","onUpdate:checked":t=>{t?e.getRowModel().rows.forEach(Z=>{m.value.push(Z.original.id)}):(m.value=[],e.resetRowSelection()),e.toggleAllPageRowsSelected(!!t)},ariaLabel:"Select all"}),cell:({row:e})=>_(N,{class:"mr-5",id:"check",checked:e.getIsSelected(),"onUpdate:checked":t=>{t?m.value.push(e.original.id):m.value=m.value.filter(i=>i!==e.original.id),e.toggleSelected(!!t)},ariaLabel:"Select row"}),enableSorting:!1,enableHiding:!1},{accessorKey:"name",header:({column:e})=>_($,{variant:"ghost",onClick:()=>{r.value.sortName="name",r.value.sortType=="asc"?r.value.sortType="desc":r.value.sortType="asc",w(h.value.current_page)},class:"w-full flex justify-between text-left px-0"},()=>{var t,i;return[_("div",{class:"gap-2 flex items-center "},[((t=c.params)==null?void 0:t.sortType)=="desc"&&((i=c.params)==null?void 0:i.sortName)=="name"?_($e,{class:"h-4 w-4"}):_(xe,{class:"h-4 w-4"}),"Unit Layanan"])]}),cell:({row:e})=>_(He,{class:"w-[450px]",shop:{id:e.original.id,name:e.original.name,image:e.original.image,address:e.original.address}})},{id:"actions",enableHiding:!1,cell:({row:e})=>{const t=e.original.id;return _("div",{class:"relative text-center"},_(De,{id:t,onDeleted:i=>I(i),onUpdated:i=>{R(i)}}))}}],m=f([]),H=j(()=>{var e;return(e=c.shops)==null?void 0:e.data}),h=j(()=>{var e;return(e=c.shops)==null?void 0:e.meta}),E=e=>{const t=f({page:e,perPage:r.value.perPage});return r.value.sortName!==null&&r.value.sortType!==null&&Object.assign(t.value,{sortName:r.value.sortName,sortType:r.value.sortType}),v!==null&&Object.assign(t.value,{search:v}),t},w=e=>{const t=E(e);y.get(route("backoffice.shop.index"),t.value,{only:["shops","params"],preserveState:!0,preserveScroll:!0,onStart:()=>p.value=!0,onFinish:()=>p.value=!1})},I=e=>{y.delete(route("backoffice.shop.delete",e),{onStart:()=>p.value=!0,onFinish:()=>p.value=!1})},R=e=>{y.get(route("backoffice.shop.edit",e),{},{onStart:()=>p.value=!0,onFinish:()=>p.value=!1})},O=e=>w(e),z=()=>w(1),M=()=>u.value.open=!0,q=e=>u.value.open=!e,J=e=>{u.value.open=!e},K=()=>{y.post(route("backoffice.shop.delete-all"),{ids:m.value},{onFinish:()=>{var e;m.value=[],(e=k.value)==null||e.resetTable(),n.value.open=!1}})},W=()=>{var e;m.value=[],(e=k.value)==null||e.resetTable()};return Te(v,()=>{w(h.value.current_page)},{debounce:500,maxWait:1e3}),(e,t)=>(x(),S(ee,null,[a(s(ae),{title:"Unit Layanan"}),o("div",Ee,[o("div",Ie,[o("div",Re,[Oe,o("div",ze,[m.value.length>0?(x(),S("div",Me,[a(s($),{variant:"secondary",class:"flex items-center gap-2",onClick:W},{default:l(()=>[d(" Batalkan ")]),_:1}),a(s($),{variant:"destructive",class:"flex items-center gap-2 font-semibold",size:"icon",onClick:t[0]||(t[0]=i=>n.value.open=!0)},{default:l(()=>[a(s(V),{class:"w-4 h-4","stroke-width":"3px"})]),_:1})])):(x(),Y(s($),{key:1,variant:"default",onClick:M,class:"flex items-center gap-2 font-semibold"},{default:l(()=>[a(s(ke),{class:"w-4 h-4","stroke-width":"3px"}),d(" Tambah ")]),_:1}))])]),a(s(X),{class:"bg-secondary shadow-inner shadow-gray-100"},{default:l(()=>[a(s(Q),{class:"text-xs"},{default:l(()=>[d(" Halaman untuk memanajemen Unit Pelayanan Jasa yang terdapat pada SMKN 1 Purwosari. Untuk menambah data baru silahkan mengklik tombol "),qe]),_:1})]),_:1})]),o("div",Je,[o("div",Ke,[a(s(G),{placeholder:"Cari Unit layanan...",modelValue:v.value,"onUpdate:modelValue":t[1]||(t[1]=i=>v.value=i),class:"w-1/2 bg-white"},null,8,["modelValue"]),o("div",We,[Ze,a(we,{lists:g.value,modelValue:r.value.perPage,"onUpdate:modelValue":t[2]||(t[2]=i=>r.value.perPage=i),onChange:z,class:"w-100"},null,8,["lists","modelValue"])])]),a(se,{ref_key:"shopTable",ref:k,columns:L,data:H.value,"current-page":h.value.current_page,"last-page":h.value.last_page,"prev-page":h.value.current_page,"next-page":h.value.to,total:h.value.total,loading:p.value,"per-page":h.value.per_page,onChangePage:O},null,8,["data","current-page","last-page","prev-page","next-page","total","loading","per-page"])]),a(Se,{open:u.value.open||!!e.shop,title:u.value.title,onClosed:q,onSaved:J,shop:e.shop!==void 0?e.shop:null,edit:!!e.shop},null,8,["open","title","shop","edit"]),a(ye,{open:n.value.open,"cancel-text":n.value.cancelText,"ok-text":n.value.okText,onCancel:t[3]||(t[3]=i=>n.value.open=!1),onOk:K},{title:l(()=>[d(" Apakah anda ingin menghapus "+T(m.value.length)+" Data? ",1)]),description:l(()=>[d(" Data akan dihapus secara permanen dari sistem dan tidak bisa di kembalikan, mohon untuk mengecek kembali data yang akan dihapus. ")]),_:1},8,["open","cancel-text","ok-text"])])],64))}});export{Fa as default};
