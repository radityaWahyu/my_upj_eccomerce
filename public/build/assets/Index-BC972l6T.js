import{d as b,o as i,c as p,t as m,n as B,e as x,w as n,f as u,u as t,l as C,r as h,j as J,b as o,a,z as j,A as $,i as L,g as T,h as r,F as N,Z as V,p as U}from"./app-VVBlLu3H.js";import{_ as E,a as R}from"./index-cooXNWDH.js";import{_ as S}from"./Label.vue_vue_type_script_setup_true_lang-DbSsO4rL.js";import{_ as k}from"./index-IVfVlWKZ.js";import{_ as q,a as O,b as z,c as A,d as H,e as Z}from"./SelectScrollDownButton.vue_vue_type_script_setup_true_lang-De4HyM1k.js";import{_ as G}from"./DataTable.vue_vue_type_script_setup_true_lang-CQrxspvz.js";import{c as I}from"./createLucideIcon-Dy4Ve4_2.js";import{B as Q}from"./Backoffice-C9BN6MVl.js";import{O as W}from"./octagon-alert-BkhDWzNB.js";/* empty css            */import"./utils--eAPk3wG.js";import"./bundle-mjs-Dk7hgz7r.js";import"./index-C2vJFdsm.js";import"./shadcn-BWvbMO9Q.js";import"./CheckIcon-Bhv5fT4T.js";import"./Skeleton.vue_vue_type_script_setup_true_lang-zlGamlJV.js";import"./AlertTitle.vue_vue_type_script_setup_true_lang-CK6ADFfV.js";import"./TableRow.vue_vue_type_script_setup_true_lang-3fbnUf25.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./store-QflOsA8z.js";import"./circle-user-BBs2dHq1.js";import"./badge-info-CxtQ4P4Z.js";import"./triangle-alert-DOKzRET9.js";/**
 * @license lucide-vue-next v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=I("SquareMinusIcon",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-vue-next v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=I("SquarePlusIcon",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),ee={key:0},F=b({__name:"JurnalMoney",props:{value:{},type:{}},setup(v){const s=l=>new Intl.NumberFormat("en-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}).format(l);return(l,y)=>(i(),p("p",null,[l.value===0?(i(),p("span",ee,m(s(l.value)),1)):(i(),p("span",{key:1,class:B({"text-red-500":l.type==="expense","text-primary":l.type==="income"})},m(s(l.value)),3))]))}}),ae={class:"text-muted-foreground"},te={key:1,class:"font-semibold"},se=b({__name:"JurnalTransactionCode",props:{transaction:{}},setup(v){return(s,l)=>(i(),p("div",ae,[s.transaction.id!==null?(i(),x(t(C),{key:0,href:s.route("backoffice.transaction.detail",s.transaction.id),class:"font-semibold hover:underline hover:text-primary"},{default:n(()=>[u(m(s.transaction.transaction_code),1)]),_:1},8,["href"])):(i(),p("span",te,"-"))]))}}),ne=b({__name:"JurnalExpandedButton",props:{expanded:{}},emits:["expand"],setup(v,{emit:s}){const l=s;return(y,_)=>(i(),x(t(k),{variant:"outline",size:"icon",onClick:_[0]||(_[0]=w=>l("expand"))},{default:n(()=>[y.expanded?(i(),x(t(X),{key:0,class:"w-4 h-4 text-gray-700"})):(i(),x(t(Y),{key:1,class:"w-4 h-4 text-gray-700"}))]),_:1}))}}),le={class:"space-y-2 mx-auto w-full"},re={class:"space-y-2"},oe=a("div",{class:"flex items-center justify-between"},[a("h1",{class:"text-lg font-semibold md:text-xl"}," Laporan Keuangan Per Bulan ")],-1),ie={class:"w-full space-y-4"},de={class:"flex items-center justify-between w-1/2 bg-white border border-gray-20000 rounded-sm p-3"},ce=a("h5",{class:"text-muted-foreground text-xs font-medium"}," Total Pemasukan ",-1),ue={class:"scroll-m-20 text-xl font-semibold tracking-tight text-primary"},me=a("h5",{class:"text-muted-foreground text-xs font-medium"}," Total Pengeluaran ",-1),pe={class:"scroll-m-20 text-xl font-semibold tracking-tight text-red-500"},_e=a("h5",{class:"text-muted-foreground text-xs font-medium"}," Saldo ",-1),fe={class:"scroll-m-20 text-xl font-semibold tracking-tight"},ge={class:"flex items-center py-1 justify-between w-full"},he={class:"space-x-2"},xe={class:"inline-flex items-center gap-4"},ve={class:"inline-flex items-center gap-3"},ye={class:"flex items-center gap-3"},be={class:"text-sm"},ke=a("span",{class:"font-semibold"},"Deksripsi Jurnal : ",-1),we={class:"grid grid-cols-[10%_90%] items-center bg-blue-200 py-2 rounded text-blue-800"},De=a("p",{class:"text-left"},[a("strong",{class:"block"},"Keterangan :"),u(" Tidak terdapat transaksi jurnal pada mulai dari transaksi pemasukan dan transaksi pengeluaran ")],-1),je={layout:Q},Ge=b({...je,__name:"Index",props:{shops:{},jurnals:{},params:{},total_income:{},total_expense:{}},setup(v){const s=v,l=e=>new Intl.NumberFormat("en-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}).format(e),y=[{id:"actions",enableHiding:!1,cell:({row:e})=>(e.original.id,r("div",{class:"text-center"},r(ne,{onExpand:e.toggleExpanded,expanded:e.getIsExpanded()})))},{accessorKey:"jurnal_code",header:({column:e})=>r("h2",{class:"w-full flex justify-between text-left px-0"},"Kode Jurnal"),cell:({row:e})=>r("div",{class:"font-semibold text-muted-foreground"},e.original.jurnal_code)},{accessorKey:"shop",header:({column:e})=>r("h2",{class:"w-full flex justify-between text-left px-0"},"Unit Layanan"),cell:({row:e})=>r("div",{class:"font-semibold text-muted-foreground"},e.original.shop)},{accessorKey:"transaction",header:({column:e})=>r("h2",{class:"w-full flex justify-between text-left px-0"},"Transaksi"),cell:({row:e})=>r(se,{transaction:{id:e.original.transaction_id,transaction_code:e.original.transaction_code}})},{accessorKey:"income",header:({column:e})=>r("h2",{class:"text-right px-0"},"Pemasukan"),cell:({row:e})=>r(F,{value:e.original.income,type:"income",class:"text-right"})},{accessorKey:"expense",header:({column:e})=>r("h2",{class:"text-right px-0"},"Pengeluaran"),cell:({row:e})=>r(F,{value:e.original.expense,type:"expense",class:"text-right"})},{accessorKey:"transaction_date",header:({column:e})=>r("h2",{class:"text-right px-0"},"Tanggal Jurnal"),cell:({row:e})=>r("div",{class:"text-right"},e.original.transaction_date)}];h([{value:10,label:10},{value:25,label:25},{value:50,label:50},{value:100,label:100}]);const _=h(!1),w=J(()=>s.total_income-s.total_expense),f=h(s.params.filter_by_shop),d=h({startDate:s.params.start_date,endDate:s.params.end_date}),K=h(null),M=()=>{d.value.startDate="",d.value.endDate="",f.value="",D()},D=()=>{const e=h({});d.value.startDate!==null&&d.value.endDate!==null&&d.value.startDate.length>0&&d.value.endDate.length>0&&Object.assign(e.value,{start_date:d.value.startDate,end_date:d.value.endDate}),f.value!==null&&f.value.length>0&&Object.assign(e.value,{filter_by_shop:f.value}),N.get(route("backoffice.jurnal.index"),e.value,{only:["jurnals","params","total_income","total_expense"],preserveState:!0,preserveScroll:!0,onStart:()=>_.value=!0,onFinish:()=>_.value=!1})};return(e,g)=>(i(),p(T,null,[o(t(V),{title:"Daftar Pemesanan"}),a("div",le,[a("div",re,[oe,o(t(R),{class:"bg-secondary shadow-inner shadow-gray-100 w-1/2"},{default:n(()=>[o(t(E),{class:"text-xs"},{default:n(()=>[u(" Halaman untuk melihat laporan keuangan dari setiap transaksi di setiap Unit Layanan di SMKN 1 Purwosari. ")]),_:1})]),_:1})]),a("div",ie,[a("div",de,[a("div",null,[ce,a("h4",ue,m(l(e.total_income)),1)]),a("div",null,[me,a("h4",pe,m(l(e.total_expense)),1)]),a("div",null,[_e,a("h4",fe,m(l(w.value)),1)])]),a("div",ge,[a("div",he,[a("div",xe,[o(t(S),{class:"text-sm"},{default:n(()=>[u("Tanggal Mulai")]),_:1}),j(a("input",{type:"date",name:"tanggal_mulai","onUpdate:modelValue":g[0]||(g[0]=c=>d.value.startDate=c),class:"text-sm py-1 px-2 border border-gray-300 bg-white rounded"},null,512),[[$,d.value.startDate]])]),a("div",ve,[o(t(S),{class:"text-sm"},{default:n(()=>[u("Tanggal Mulai")]),_:1}),j(a("input",{type:"date",name:"tanggal_mulai","onUpdate:modelValue":g[1]||(g[1]=c=>d.value.endDate=c),class:"text-sm py-1 px-2 border border-gray-300 bg-white rounded"},null,512),[[$,d.value.endDate]])])]),a("div",ye,[a("div",null,[e.$page.props.auth.admin.level==="administrator"?(i(),x(t(Z),{key:0,"model-value":f.value,"onUpdate:modelValue":g[2]||(g[2]=c=>f.value=c)},{default:n(()=>[o(t(O),{class:"w-[300px] bg-white"},{default:n(()=>[o(t(q),{placeholder:"Filter Unit Layanan"})]),_:1}),o(t(H),null,{default:n(()=>[o(t(z),null,{default:n(()=>[(i(!0),p(T,null,U(e.shops,(c,P)=>(i(),x(t(A),{key:P,value:c.id},{default:n(()=>[u(m(c.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["model-value"])):L("",!0)]),o(t(k),{variant:"outline",onClick:M},{default:n(()=>[u(" Reset ")]),_:1}),o(t(k),{variant:"default",onClick:D},{default:n(()=>[u(" Tampilkan ")]),_:1})])]),o(G,{ref_key:"jurnalsTable",ref:K,columns:y,data:e.jurnals.data,"current-page":1,"last-page":1,"prev-page":1,"next-page":1,total:e.jurnals.data.length,loading:_.value,"per-page":10,pagination:!1},{expanded:n(({row:c})=>[a("div",be,[ke,u(" "+m(c.original.description),1)])]),empty:n(()=>[a("div",we,[a("div",null,[o(t(W),{class:"h-8 w-8 m-auto"})]),De])]),_:1},8,["data","total","loading"])])])],64))}});export{Ge as default};
