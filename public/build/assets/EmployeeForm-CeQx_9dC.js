import{x as L,R as de,F as re,V as ie,K as pe,L as ue,p as ce,f as me,h as fe,v as he}from"./index-CfPuhHd9.js";import{c as N}from"./shadcn-BWvbMO9Q.js";import{d as V,j as U,o as l,e as x,w as s,k as F,m as B,u as e,f as h,t as w,i as k,a as P,q as se,s as te,b as a,Q as _e,r as G,v as ge,T as ye,x as be,c as g,g as j,F as we,Z as xe,n as v,p as I}from"./app-CB_Q1yd6.js";import{c as M}from"./utils--eAPk3wG.js";import{u as ve,t as ke,o as Be,s as $,_ as S,a as C,b as O,c as T,F as D}from"./vee-validate-zod.esm-BuJycqYT.js";import{v as W}from"./index-DvCOqRo0.js";import{_ as z}from"./index-D4Ie_lJy.js";import{_ as E}from"./Input.vue_vue_type_script_setup_true_lang-D54lCQEL.js";import{_ as Ve}from"./Textarea.vue_vue_type_script_setup_true_lang-BPXnuDSN.js";import{_ as J,a as R}from"./index-Dao5mdM1.js";import{_ as Pe}from"./AlertTitle.vue_vue_type_script_setup_true_lang-CYwTo7kE.js";import{B as Fe}from"./Backoffice-B6AXC8lO.js";import{T as $e}from"./triangle-alert-DxY52lw5.js";import{c as Se}from"./createLucideIcon-BsoM3zrU.js";import"./bundle-mjs-Dk7hgz7r.js";/* empty css            */import"./Label.vue_vue_type_script_setup_true_lang-CHMMUy1W.js";import"./index-C2XJz47D.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./store-ct7EYkSP.js";import"./circle-user-Dao3zDS1.js";import"./badge-info-CC5SfLbS.js";/**
 * @license lucide-vue-next v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=Se("ChevronDownIcon",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Q=V({__name:"Command",props:{modelValue:{default:""},defaultValue:{},open:{type:Boolean,default:!0},defaultOpen:{type:Boolean},searchTerm:{},selectedValue:{},multiple:{type:Boolean},disabled:{type:Boolean},name:{},dir:{},filterFunction:{},displayValue:{},resetSearchTermOnBlur:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["update:modelValue","update:open","update:searchTerm","update:selectedValue"],setup(m,{emit:p}){const d=m,r=p,f=U(()=>{const{class:c,...y}=d;return y}),u=L(f,r);return(c,y)=>(l(),x(e(de),B(e(u),{class:e(N)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",d.class)}),{default:s(()=>[F(c.$slots,"default")]),_:3},16,["class"]))}}),Z=V({__name:"CommandGroup",props:{asChild:{type:Boolean},as:{},class:{},heading:{}},setup(m){const p=m,d=U(()=>{const{class:r,...f}=p;return f});return(r,f)=>(l(),x(e(ie),B(d.value,{class:e(N)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",p.class)}),{default:s(()=>[r.heading?(l(),x(e(re),{key:0,class:"px-2 py-1.5 text-xs font-medium text-muted-foreground"},{default:s(()=>[h(w(r.heading),1)]),_:1})):k("",!0),F(r.$slots,"default")]),_:3},16,["class"]))}}),H=V({__name:"CommandItem",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["select"],setup(m,{emit:p}){const d=m,r=p,f=U(()=>{const{class:c,...y}=d;return y}),u=L(f,r);return(c,y)=>(l(),x(e(pe),B(e(u),{class:e(N)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[highlighted]:bg-accent data-[highlighted]:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",d.class)}),{default:s(()=>[F(c.$slots,"default")]),_:3},16,["class"]))}}),Ce={role:"presentation"},X=V({__name:"CommandList",props:{forceMount:{type:Boolean},position:{},bodyLock:{type:Boolean},dismissable:{type:Boolean,default:!1},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(m,{emit:p}){const d=m,r=p,f=U(()=>{const{class:c,...y}=d;return y}),u=L(f,r);return(c,y)=>(l(),x(e(ue),B(e(u),{class:e(N)("max-h-[300px] overflow-y-auto overflow-x-hidden",d.class)}),{default:s(()=>[P("div",Ce,[F(c.$slots,"default")])]),_:3},16,["class"]))}}),Y=V({__name:"Popover",props:{defaultOpen:{type:Boolean},open:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(m,{emit:p}){const f=L(m,p);return(u,c)=>(l(),x(e(ce),se(te(e(f))),{default:s(()=>[F(u.$slots,"default")]),_:3},16))}}),ee=V({__name:"PopoverTrigger",props:{asChild:{type:Boolean},as:{}},setup(m){const p=m;return(d,r)=>(l(),x(e(me),se(te(p)),{default:s(()=>[F(d.$slots,"default")]),_:3},16))}}),ae=V({inheritAttrs:!1,__name:"PopoverContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},side:{},sideOffset:{default:4},align:{default:"center"},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(m,{emit:p}){const d=m,r=p,f=U(()=>{const{class:c,...y}=d;return y}),u=L(f,r);return(c,y)=>(l(),x(e(he),null,{default:s(()=>[a(e(fe),B({...e(u),...c.$attrs},{class:e(N)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",d.class)}),{default:s(()=>[F(c.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),Oe={class:"block w-1/2 mx-auto space-y-2"},Te={class:"space-y-2"},De={class:"flex items-center justify-between"},Le=P("h1",{class:"text-lg font-semibold md:text-xl"},"Form Pegawai",-1),Ne={key:0,class:"flex gap-2"},Ue={key:0},ze={key:1,class:"mx-10"},Ae={key:0,class:"text-xs text-red-500 font-medium"},Ke={class:"grid grid-cols-2 gap-2"},je={key:0,class:"text-xs text-red-500 font-medium"},Ee={key:0,class:"text-xs text-red-500 font-medium"},Ge={class:"grid grid-cols-2 gap-2"},Ie={key:0,class:"text-xs text-red-500 font-medium"},Me={key:0,class:"text-xs text-red-500 font-medium"},We={key:0,class:"text-xs text-red-500 font-medium"},Je={layout:Fe},ha=V({...Je,__name:"EmployeeForm",props:{employee:{},shops:{}},setup(m){const p=m,d=_e(),r=G(!1),f=G(""),u=ge({openGender:!1,openShop:!1}),c=[{label:"Laki - laki",value:"l"},{label:"Perempuan",value:"p"}],oe=ke(Be({name:$({message:"Pegawai harus diisi"}).min(1,{message:"Pegawai harus diisi."}),address:$({message:"Alamat harus diisi"}).min(1,{message:"Alamat harus diisi."}),gender:$({message:"Jenis Kelamin harus dipilih."}),shop:$({message:"Unit Layanan harus diisi."}),whatsapp:$({message:"No Whatsapp harus diisi dengan angka"}).refine(W.isMobilePhone,{message:"No Whatsapp harus diisi dengan angka"}),phone:$({message:"No Telepon harus diisi dengan angka"}).refine(W.isMobilePhone,{message:"No Telepone harus diisi dengan angka"})})),i=ve({validationSchema:oe}),t=ye({_token:d.props.csrf_token,name:"",address:"",gender:"",whatsapp:"",phone:"",shop:""});be(()=>p.employee,n=>{n?(r.value=!0,f.value=n.id,t.name=n.name,t.address=n.address,t.gender=n.gender,t.whatsapp=n.whatsapp,t.phone=n.phone,t.shop=n.shop,i.setFieldValue("name",n.name),i.setFieldValue("address",n.address),i.setFieldValue("gender",n.gender),i.setFieldValue("whatsapp",n.whatsapp),i.setFieldValue("phone",n.phone),i.setFieldValue("shop",n.shop)):r.value=!1},{immediate:!0});const le=()=>{t.reset(),i.resetForm()},ne=()=>{we.get(route("backoffice.employee.index"))},A=i.handleSubmit(n=>{r.value?t.put(route("backoffice.employee.update",f.value),{onSuccess:()=>{le()}}):t.post(route("backoffice.employee.store"))});return(n,_)=>(l(),g(j,null,[a(e(xe),{title:"Form Pegawai"}),P("div",Oe,[P("div",Te,[P("div",De,[Le,n.shops.length>0?(l(),g("div",Ne,[a(e(z),{type:"button",variant:"ghost",form:"dialogForm",onClick:ne,disabled:e(t).processing},{default:s(()=>[h(" Batal ")]),_:1},8,["disabled"]),a(e(z),{type:"submit",onClick:e(A),disabled:e(t).processing},{default:s(()=>[e(t).processing?(l(),g("span",Ue,"Menyimpan data...")):(l(),g("span",ze,"Simpan"))]),_:1},8,["onClick","disabled"])])):k("",!0)])]),n.shops.length==0?(l(),x(e(R),{key:0,class:"bg-orange-200 shadow-inner shadow-orange-300 max-w-2xl"},{default:s(()=>[a(e($e),{class:"w-5 h-5"}),a(e(Pe),null,{default:s(()=>[h("Peringatan")]),_:1}),a(e(J),{class:"text-xs"},{default:s(()=>[h(" Data Unit Layanan masih kosong silahkan mengisi data unit layanan terlebih dahulu. ")]),_:1})]),_:1})):(l(),x(e(R),{key:1,class:"bg-secondary shadow-inner shadow-gray-100 max-w-2xl"},{default:s(()=>[a(e(J),{class:"text-xs"},{default:s(()=>[h(" Silahkan anda mengisi data pegawai sesuai dengan form yang disediakan. ")]),_:1})]),_:1})),n.shops.length>0?(l(),g("form",{key:2,onSubmit:_[6]||(_[6]=(...b)=>e(A)&&e(A)(...b)),class:"space-y-2 w-full"},[a(e(D),{name:"name"},{default:s(({componentField:b})=>[a(e(S),null,{default:s(()=>[a(e(C),{class:v({"text-red-500":e(t).errors.name})},{default:s(()=>[h("Nama")]),_:1},8,["class"]),a(e(O),null,{default:s(()=>[a(e(E),B({type:"text",placeholder:"Input nama"},b,{modelValue:e(t).name,"onUpdate:modelValue":_[0]||(_[0]=o=>e(t).name=o),class:["bg-white",{"border border-red-500":e(t).errors.name}],disabled:e(t).processing}),null,16,["modelValue","class","disabled"])]),_:2},1024),e(t).errors.name?(l(),g("div",Ae,w(e(t).errors.name),1)):k("",!0),a(e(T))]),_:2},1024)]),_:1}),P("div",Ke,[a(e(D),{name:"gender"},{default:s(({componentField:b})=>[a(e(S),null,{default:s(()=>[a(e(C),{class:v({"text-red-500":e(t).errors.gender})},{default:s(()=>[h("Jenis Kelamin")]),_:1},8,["class"]),a(e(Y),{class:"w-full",open:u.openGender,"onUpdate:open":_[1]||(_[1]=o=>u.openGender=o)},{default:s(()=>[a(e(ee),{"as-child":""},{default:s(()=>[a(e(O),null,{default:s(()=>[a(e(z),{variant:"outline",role:"combobox",class:v(e(M)("w-full justify-between",!e(i).values.gender&&"text-muted-foreground"))},{default:s(()=>{var o;return[h(w(e(i).values.gender?(o=c.find(K=>K.value===e(i).values.gender))==null?void 0:o.label:"Pilih Jenis Kelamin")+" ",1),a(e(q),{class:"ml-2 h-4 w-4 shrink-0 opacity-50"})]}),_:1},8,["class"])]),_:1})]),_:1}),a(e(ae),{class:"w- p-0"},{default:s(()=>[a(e(Q),null,{default:s(()=>[a(e(X),null,{default:s(()=>[a(e(Z),null,{default:s(()=>[(l(),g(j,null,I(c,o=>a(e(H),{key:o.value,value:o.label,class:v({"font-semibold":o.value===e(i).values.gender}),onSelect:()=>{e(i).setFieldValue("gender",o.value),e(t).gender=o.value,u.openGender=!1}},{default:s(()=>[h(w(o.label),1)]),_:2},1032,["value","class","onSelect"])),64))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),e(t).errors.gender?(l(),g("div",je,w(e(t).errors.gender),1)):k("",!0),a(e(T))]),_:1})]),_:1}),a(e(D),{name:"shop"},{default:s(({componentField:b})=>[a(e(S),null,{default:s(()=>[a(e(C),{class:v({"text-red-500":e(t).errors.shop})},{default:s(()=>[h("Unit Layanan")]),_:1},8,["class"]),a(e(Y),{class:"w-full",open:u.openShop,"onUpdate:open":_[2]||(_[2]=o=>u.openShop=o)},{default:s(()=>[a(e(ee),{"as-child":""},{default:s(()=>[a(e(O),null,{default:s(()=>[a(e(z),{variant:"outline",role:"combobox",class:v(["overflow-hidden",e(M)("w-full justify-between",!e(i).values.shop&&"text-muted-foreground")])},{default:s(()=>{var o;return[h(w(e(i).values.shop?(o=n.shops.find(K=>K.id===e(i).values.shop))==null?void 0:o.name:"Pilih Unit Layanan")+" ",1),a(e(q),{class:"ml-2 h-4 w-4 shrink-0 opacity-50"})]}),_:1},8,["class"])]),_:1})]),_:1}),a(e(ae),{class:"w- p-0"},{default:s(()=>[a(e(Q),null,{default:s(()=>[a(e(X),null,{default:s(()=>[a(e(Z),null,{default:s(()=>[(l(!0),g(j,null,I(n.shops,o=>(l(),x(e(H),{key:o.id,value:o.name,class:v({"font-semibold":o.name===e(i).values.shop}),onSelect:()=>{e(i).setFieldValue("shop",o.id),e(t).shop=o.id,u.openShop=!1}},{default:s(()=>[h(w(o.name),1)]),_:2},1032,["value","class","onSelect"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),e(t).errors.shop?(l(),g("div",Ee,w(e(t).errors.shop),1)):k("",!0),a(e(T))]),_:1})]),_:1})]),P("div",Ge,[a(e(D),{name:"phone"},{default:s(({componentField:b})=>[a(e(S),null,{default:s(()=>[a(e(C),{class:v({"text-red-500":e(t).errors.phone})},{default:s(()=>[h("No Telepon")]),_:1},8,["class"]),a(e(O),null,{default:s(()=>[a(e(E),B({type:"text",placeholder:"no telepon"},b,{modelValue:e(t).phone,"onUpdate:modelValue":_[3]||(_[3]=o=>e(t).phone=o),class:["bg-white",{"border border-red-500":e(t).errors.phone}],disabled:e(t).processing}),null,16,["modelValue","class","disabled"])]),_:2},1024),e(t).errors.phone?(l(),g("div",Ie,w(e(t).errors.phone),1)):k("",!0),a(e(T))]),_:2},1024)]),_:1}),a(e(D),{name:"whatsapp"},{default:s(({componentField:b})=>[a(e(S),null,{default:s(()=>[a(e(C),{class:v({"text-red-500":e(t).errors.whatsapp})},{default:s(()=>[h("No. Whatsapp")]),_:1},8,["class"]),a(e(O),null,{default:s(()=>[a(e(E),B({type:"text",placeholder:"Input nama unit"},b,{modelValue:e(t).whatsapp,"onUpdate:modelValue":_[4]||(_[4]=o=>e(t).whatsapp=o),class:["bg-white",{"border border-red-500":e(t).errors.whatsapp}],disabled:e(t).processing}),null,16,["modelValue","class","disabled"])]),_:2},1024),e(t).errors.whatsapp?(l(),g("div",Me,w(e(t).errors.whatsapp),1)):k("",!0),a(e(T))]),_:2},1024)]),_:1})]),a(e(D),{name:"address"},{default:s(({componentField:b})=>[a(e(S),null,{default:s(()=>[a(e(C),{class:v({"text-red-500":e(t).errors.address})},{default:s(()=>[h("Alamat")]),_:1},8,["class"]),a(e(O),null,{default:s(()=>[a(e(Ve),B({placeholder:"inputkan alamat kantor"},b,{modelValue:e(t).address,"onUpdate:modelValue":_[5]||(_[5]=o=>e(t).address=o),class:"w-full bg-white",rows:"5"}),null,16,["modelValue"])]),_:2},1024),e(t).errors.address?(l(),g("div",We,w(e(t).errors.address),1)):k("",!0),a(e(T))]),_:2},1024)]),_:1})],32)):k("",!0)])],64))}});export{ha as default};
