import{d as $,T as q,r as f,j as S,o as a,c as r,a as t,u as o,f as p,t as h,i as m,z as F,A as K,V as D,b as y,F as _,g as w,p as E,w as B,Z as N,e as I,l as L}from"./app-D3r1GT50.js";import{E as T}from"./empty-cart-CKT4-nTG.js";import{L as V}from"./login_two-yA2lVMnP.js";import{N as z}from"./no-image-DVr5fu4Z.js";import{T as A}from"./trash-DqUtxZ-z.js";import{_ as P}from"./Frontend.vue_vue_type_script_setup_true_lang-ECWUovbR.js";/* empty css            */import"./createLucideIcon-D9G94eeu.js";import"./Header.vue_vue_type_script_setup_true_lang-DLucFlDa.js";import"./Input.vue_vue_type_script_setup_true_lang-CmDk1Kh3.js";import"./index-5S_sLwX-.js";import"./shadcn-BWvbMO9Q.js";import"./bundle-mjs-Dk7hgz7r.js";import"./circle-user-CeX6Z6zw.js";import"./Footer.vue_vue_type_script_setup_true_lang-DXquRZcT.js";const M={class:"rounded-sm border border-gray-200 bg-white p-3 shadow-sm"},Q={class:"grid grid-cols-[40%_20%_15%_20%_5%] items-center gap-1 px-1"},R={class:"flex items-center gap-2"},H={class:"h-12 w-14 overflow-hidden rounded-sm"},O=["src","alt"],U={href:"#",class:"text-sm font-medium text-gray-900 hover:underline dark:text-white"},Z={key:0,class:"ml-2 text-xs text-blue-500"},G={key:1,class:"ml-2 text-xs text-blue-500"},J={class:"text-muted-foreground text-xs"},W={class:"text-sm font-medium text-gray-900 text-left"},X=t("p",{class:"text-xs text-muted-foreground font-medium"},"Harga Satuan",-1),Y={class:"flex items-center rounded border border-gray-200"},tt=["disabled"],et=["disabled"],st=["disabled"],at={class:"text-sm font-semibold text-gray-900 dark:text-white text-right"},ot={class:"text-center"},nt=["disabled"],rt=$({__name:"ProductCart",props:{cart:{}},emits:["deleted"],setup(x,{emit:l}){const i=x,g=l,s=q({qty:i.cart.quantity}),d=n=>new Intl.NumberFormat("en-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}).format(n),e=f(!1),k=S(()=>s.qty===0?d(0):d(s.qty*i.cart.price)),u=()=>{s.put(route("frontend.cart.update",i.cart.id),{preserveScroll:!0,onError:n=>{console.log(n)}})},b=n=>{_.delete(route("frontend.cart.delete",i.cart.id),{onStart:()=>e.value=!0,onError:c=>console.log(c),onSuccess:()=>g("deleted",!0),onFinish:()=>e.value=!1})},C=()=>{s.qty>1&&(s.qty--,u())},j=()=>{s.qty++,u()};return(n,c)=>(a(),r("div",M,[t("div",Q,[t("div",R,[t("div",H,[t("img",{class:"h-full w-full object-cover object-center",src:n.cart.image===null?o(z):n.cart.image,alt:n.cart.name},null,8,O)]),t("a",U,[p(h(n.cart.name)+" ",1),o(s).processing?(a(),r("span",Z," updating... ")):m("",!0),e.value?(a(),r("span",G," hapus item... ")):m("",!0),t("p",J,h(n.cart.shop),1)])]),t("div",W,[X,p(" "+h(d(n.cart.price)),1)]),t("div",Y,[t("button",{type:"button",class:"size-10 leading-10 text-gray-600 transition hover:opacity-75",onClick:C,disabled:o(s).processing||e.value}," âˆ’ ",8,tt),F(t("input",{type:"number","onUpdate:modelValue":c[0]||(c[0]=v=>o(s).qty=v),class:"h-10 w-10 border-transparent text-center [-moz-appearance:_textfield] sm:text-sm [&::-webkit-inner-spin-button]:m-0 [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:m-0 [&::-webkit-outer-spin-button]:appearance-none",disabled:o(s).processing||e.value,onKeyup:D(u,["enter"])},null,40,et),[[K,o(s).qty]]),t("button",{type:"button",class:"size-10 leading-10 text-gray-600 transition hover:opacity-75",onClick:j,disabled:o(s).processing||e.value}," + ",8,st)]),t("div",at,h(k.value),1),t("div",ot,[t("button",{type:"button",class:"p-1 bg-red-100 rounded-full",onClick:c[1]||(c[1]=v=>b(n.cart.id)),disabled:o(s).processing||e.value},[y(o(A),{class:"w-4 h-4 text-red-700"})],8,nt)])])]))}}),it={class:"lg:container p-4 min-h-[600px]"},lt={class:"lg:w-3/4 mx-auto space-y-4"},ct=t("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," Keranjang Belanja ",-1),dt={key:0,class:"space-y-2"},ut=t("div",null,[t("blockquote",{class:"my-6 border-l-2 pl-6 italic text-sm"},[t("strong",null,"Keterangan :"),p(" Silahkan cek kembali produk / jasa yang ingin dipesan melalui sistem ini, sebelum melakukan proses selesaikan pemesanan. ")])],-1),mt={class:"w-full space-x-2 text-center"},pt=["disabled"],gt={key:0},ht={key:1},_t=["disabled"],bt={key:0},ft={key:1},yt={key:1,class:"w-full"},xt=["src"],kt=t("h2",{class:"scroll-m-20 border-b pb-2 text-xl font-semibold tracking-tight transition-colors text-center"}," Tidak terdapat produk dalam keranjang belanja anda ",-1),vt=t("p",{class:"text-center text-muted-foreground"}," Silahkan tambahkan terlebih dahulu produk atau jasa yang kami sediakan di sistem. ",-1),wt={key:2,class:"w-full"},$t=["src"],Ct=t("h2",{class:"scroll-m-20 border-b pb-2 text-xl font-semibold tracking-tight transition-colors text-center"}," Anda harus LogIn terlebih dahulu agar dapat melihat keranjang belanja anda. ",-1),jt={class:"text-center text-muted-foreground"},qt={layout:P},Qt=$({...qt,__name:"Carts",props:{carts:{}},setup(x){const l=f(!1),i=f(!1),g=()=>{_.reload({only:["carts"]})},s=()=>{_.delete(route("frontend.cart.empty"),{onStart:()=>l.value=!0,onError:e=>console.log(e),onSuccess:()=>g(),onFinish:()=>l.value=!1})},d=()=>{_.post(route("frontend.cart.send"),{},{onStart:()=>i.value=!0,onError:e=>console.log(e),onFinish:()=>i.value=!1})};return(e,k)=>(a(),r(w,null,[y(o(N),{title:"Keranjang Belanja"}),t("div",it,[t("div",lt,[ct,e.carts!==null&&e.carts.data.length>0?(a(),r("div",dt,[ut,(a(!0),r(w,null,E(e.carts.data,(u,b)=>(a(),I(rt,{key:b,cart:u,onDeleted:g},null,8,["cart"]))),128)),t("div",mt,[t("button",{type:"button",class:"mt-4 bg-orange-400 hover:bg-orange-600 focus:ring-3 focus:outline-none focus:ring-orang-300 font-medium rounded text-sm px-5 py-2.5 text-center text-white",disabled:i.value||l.value,onClick:s},[l.value?(a(),r("span",gt,"Mengosongkan Keranjang...")):(a(),r("span",ht,"Kosongkan Keranjang"))],8,pt),t("button",{onClick:d,type:"button",class:"mt-4 bg-blue-400 hover:bg-blue-600 focus:ring-3 focus:outline-none focus:ring-blue-300 font-medium rounded text-sm px-5 py-2.5 text-center text-white",disabled:i.value||l.value},[i.value?(a(),r("span",bt,"Mengirim Pesanan...")):(a(),r("span",ft,"Kirim Pesanan"))],8,_t)])])):m("",!0),e.carts!==null&&e.carts.data.length===0?(a(),r("div",yt,[t("img",{src:o(T),alt:"empty_cart",class:"w-80 h-80 mx-auto"},null,8,xt),kt,vt])):m("",!0),e.carts===null?(a(),r("div",wt,[t("img",{src:o(V),alt:"empty_cart",class:"w-80 h-80 mx-auto"},null,8,$t),Ct,t("p",jt,[p(" Apabila belum punya akun silahkan mendaftar terlebih dahulu dengan mengklik tombol dibawah. "),y(o(L),{href:e.route("frontend.register"),as:"button",class:"mt-4 bg-gray-200 hover:bg-gray-300 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded text-sm px-5 py-2.5 text-center"},{default:B(()=>[p(" Daftar Akun Baru ")]),_:1},8,["href"])])])):m("",!0)])])],64))}});export{Qt as default};
