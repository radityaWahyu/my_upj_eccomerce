import{e as S,a as T,_ as U,d as N,b as J,c as B}from"./SelectScrollDownButton.vue_vue_type_script_setup_true_lang-Dpe7DCcs.js";import{u as q,t as j,o as K,s as m,n as D,_ as g,a as h,b as c,c as y,F as k}from"./vee-validate-zod.esm-Bd9nk1EN.js";import{d as G,Q as I,r as O,T as R,x as W,o,c as u,b as a,u as e,a as V,w as s,e as b,i as _,g as w,F as X,Z as ee,f as d,n as x,m as P,t as p,p as C}from"./app-DvwMCmTn.js";import{_ as E}from"./index-BzfR3-Sq.js";import{_ as L}from"./Input.vue_vue_type_script_setup_true_lang-DFUkOyZW.js";import{_ as ae}from"./InputTipTap.vue_vue_type_style_index_0_lang-BgX8iVyy.js";import{_ as H,a as M}from"./index-BD3S1-DL.js";import{_ as se}from"./AlertTitle.vue_vue_type_script_setup_true_lang-RRTtH3qQ.js";import{B as te}from"./Backoffice-B-WCG6wI.js";import{T as le}from"./triangle-alert-IfyH9C8j.js";import"./index-DSs5w_8p.js";import"./utils--eAPk3wG.js";import"./bundle-mjs-Dk7hgz7r.js";import"./CheckIcon-SLxWK-sQ.js";import"./Label.vue_vue_type_script_setup_true_lang-7rtL3RS0.js";/* empty css            */import"./shadcn-BWvbMO9Q.js";import"./index-NEgnn12T.js";import"./createLucideIcon-Cksp6p2Q.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./store-BZvJaB1T.js";import"./circle-user-DCpGT6w1.js";import"./badge-info-DGpF4-o2.js";const re={class:"block w-1/2 mx-auto space-y-2"},oe={class:"space-y-2"},ie={class:"flex items-center justify-between"},de=V("h1",{class:"text-lg font-semibold md:text-xl"},"Edit Produk",-1),ne={class:"flex gap-2"},ue={key:0},me={key:1,class:"mx-10"},ce={key:0,class:"text-xs text-red-500 font-medium"},pe={key:0,class:"text-xs text-red-500 font-medium"},_e={key:0,class:"text-xs text-red-500 font-medium"},fe={key:0,class:"text-xs text-red-500 font-medium"},ge={key:0,class:"text-xs text-red-500 font-medium"},he={key:0,class:"text-xs text-red-500 font-medium"},ye={layout:te},Ae=G({...ye,__name:"ProductEdit",props:{product:{},shops:{},categories:{}},setup(z){const $=z,A=I(),Q=$.shops?j(K({name:m({message:"Nama Produk harus diisi"}).min(1,{message:"Nama Produk harus diisi."}),type:m({message:"Jenis Produk harus dipilih"}),category:m({message:"Kategori Produk harus dipilih"}),price:D({message:"Harga Produk harus diisi"}),description:m()})):j(K({name:m({message:"Nama Produk harus diisi"}).min(1,{message:"Nama Produk harus diisi."}),type:m({message:"Jenis Produk harus dipilih"}),category:m({message:"Kategori Produk harus dipilih"}),price:D({message:"Harga Produk harus diisi"}),shop:m({message:"Unit Layanan harus dipilih"}),description:m()})),f=q({validationSchema:Q}),Y=O([{label:"Jasa",value:"jasa"},{label:"Produk Jadi",value:"produk"}]),t=R({_token:A.props.csrf_token,name:"",type:"",category:"",price:0,shop:"",description:""}),Z=()=>{X.get(route("backoffice.product.index"))},F=f.handleSubmit(r=>{t.put(route("backoffice.product.update",$.product.id))});return W(()=>$.product,r=>{f.setFieldValue("name",r.name),f.setFieldValue("type",r.type),f.setFieldValue("price",r.price),f.setFieldValue("category",r.category_id),f.setFieldValue("description",r.description),t.name=r.name,t.type=r.type,t.category=r.category_id,t.price=r.price,t.shop=r.shop_id,t.description=r.description,console.log(r.description)},{immediate:!0}),(r,i)=>(o(),u(w,null,[a(e(ee),{title:"Edit Produk"}),V("div",re,[V("div",oe,[V("div",ie,[de,V("div",ne,[a(e(E),{type:"button",variant:"ghost",form:"dialogForm",onClick:Z,disabled:e(t).processing},{default:s(()=>[d(" Batal ")]),_:1},8,["disabled"]),a(e(E),{type:"submit",onClick:e(F),disabled:e(t).processing},{default:s(()=>[e(t).processing?(o(),u("span",ue,"Menyimpan data...")):(o(),u("span",me,"Simpan"))]),_:1},8,["onClick","disabled"])])])]),a(e(M),{class:"bg-secondary shadow-inner shadow-gray-100 max-w-2xl"},{default:s(()=>[a(e(H),{class:"text-xs"},{default:s(()=>[d(" Silahkan anda mengisi data produk atau jasa yang akan disediakan dalam siste MY UPJ. ")]),_:1})]),_:1}),V("form",{onSubmit:i[6]||(i[6]=(...n)=>e(F)&&e(F)(...n)),class:"space-y-2 w-full"},[a(e(k),{name:"name"},{default:s(({componentField:n})=>[a(e(g),null,{default:s(()=>[a(e(h),{class:x({"text-red-500":e(t).errors.name})},{default:s(()=>[d("Nama Produk / Jasa")]),_:1},8,["class"]),a(e(c),null,{default:s(()=>[a(e(L),P({type:"text",placeholder:"nama produk / jasa"},n,{modelValue:e(t).name,"onUpdate:modelValue":i[0]||(i[0]=l=>e(t).name=l),class:["bg-white",{"border border-red-500":e(t).errors.name}],disabled:e(t).processing}),null,16,["modelValue","class","disabled"])]),_:2},1024),e(t).errors.name?(o(),u("div",ce,p(e(t).errors.name),1)):_("",!0),a(e(y))]),_:2},1024)]),_:1}),a(e(k),{name:"type"},{default:s(({componentField:n})=>[a(e(g),null,{default:s(()=>[a(e(h),{class:x({"text-red-500":e(t).errors.type})},{default:s(()=>[d(" Jenis Produk ")]),_:1},8,["class"]),a(e(c),null,{default:s(()=>[a(e(S),P(n,{class:"bg-white",modelValue:e(t).type,"onUpdate:modelValue":i[1]||(i[1]=l=>e(t).type=l)}),{default:s(()=>[a(e(c),null,{default:s(()=>[a(e(T),null,{default:s(()=>[a(e(U),{placeholder:"Pilih Jenis"})]),_:1})]),_:1}),a(e(N),null,{default:s(()=>[a(e(J),null,{default:s(()=>[(o(!0),u(w,null,C(Y.value,(l,v)=>(o(),b(e(B),{key:v,value:l.value,class:"bg-white"},{default:s(()=>[d(p(l.label),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:2},1040,["modelValue"])]),_:2},1024),e(t).errors.type?(o(),u("div",pe,p(e(t).errors.type),1)):_("",!0),a(e(y))]),_:2},1024)]),_:1}),a(e(k),{name:"category"},{default:s(({componentField:n})=>[a(e(g),null,{default:s(()=>[a(e(h),{class:x({"text-red-500":e(t).errors.category})},{default:s(()=>[d(" Kategori Produk ")]),_:1},8,["class"]),a(e(c),null,{default:s(()=>[r.categories.length>0?(o(),b(e(S),P({key:0},n,{class:"bg-white",modelValue:e(t).category,"onUpdate:modelValue":i[2]||(i[2]=l=>e(t).category=l)}),{default:s(()=>[a(e(c),null,{default:s(()=>[a(e(T),null,{default:s(()=>[a(e(U),{placeholder:"Pilih Kategori"})]),_:1})]),_:1}),a(e(N),null,{default:s(()=>[a(e(J),null,{default:s(()=>[(o(!0),u(w,null,C(r.categories,(l,v)=>(o(),b(e(B),{key:v,value:l.id,class:"bg-white"},{default:s(()=>[d(p(l.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:2},1040,["modelValue"])):(o(),b(e(M),{key:1,class:"bg-yellow-100"},{default:s(()=>[a(e(le),{class:"w-4 h-4"}),a(e(se),null,{default:s(()=>[d("Peringatan")]),_:1}),a(e(H),null,{default:s(()=>[d(" Data Kategori tidak ditemukan dalam sistem, silahkan ditambahkan terlebih dahulu ")]),_:1})]),_:1}))]),_:2},1024),e(t).errors.category?(o(),u("div",_e,p(e(t).errors.category),1)):_("",!0),a(e(y))]),_:2},1024)]),_:1}),r.shops!==null?(o(),b(e(k),{key:0,name:"shop"},{default:s(({componentField:n})=>[a(e(g),null,{default:s(()=>[a(e(h),{class:x({"text-red-500":e(t).errors.shop})},{default:s(()=>[d(" Unit Layanan ")]),_:1},8,["class"]),a(e(c),null,{default:s(()=>[a(e(S),P(n,{class:"bg-white",modelValue:e(t).shop,"onUpdate:modelValue":i[3]||(i[3]=l=>e(t).shop=l)}),{default:s(()=>[a(e(c),null,{default:s(()=>[a(e(T),null,{default:s(()=>[a(e(U),{placeholder:"Unit Layanan"})]),_:1})]),_:1}),a(e(N),null,{default:s(()=>[a(e(J),null,{default:s(()=>[(o(!0),u(w,null,C(r.shops,(l,v)=>(o(),b(e(B),{key:v,value:l.id,class:"bg-white"},{default:s(()=>[d(p(l.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:2},1040,["modelValue"])]),_:2},1024),e(t).errors.shop?(o(),u("div",fe,p(e(t).errors.shop),1)):_("",!0),a(e(y))]),_:2},1024)]),_:1})):_("",!0),a(e(k),{name:"price"},{default:s(({componentField:n})=>[a(e(g),null,{default:s(()=>[a(e(h),{class:x({"text-red-500":e(t).errors.price})},{default:s(()=>[d(" Harga ")]),_:1},8,["class"]),a(e(c),null,{default:s(()=>[a(e(L),P({type:"number"},n,{modelValue:e(t).price,"onUpdate:modelValue":i[4]||(i[4]=l=>e(t).price=l),class:["bg-white",{"border border-red-500":e(t).errors.price}],disabled:e(t).processing}),null,16,["modelValue","class","disabled"])]),_:2},1024),e(t).errors.price?(o(),u("div",ge,p(e(t).errors.price),1)):_("",!0),a(e(y))]),_:2},1024)]),_:1}),a(e(k),{name:"description"},{default:s(({componentField:n})=>[a(e(g),null,{default:s(()=>[a(e(h),{class:x({"text-red-500":e(t).errors.description})},{default:s(()=>[d(" Deskripsi ")]),_:1},8,["class"]),a(e(c),null,{default:s(()=>[a(ae,{placeholder:"Tuliskan deskripsi produk...",modelValue:e(t).description,"onUpdate:modelValue":i[5]||(i[5]=l=>e(t).description=l)},null,8,["modelValue"])]),_:1}),e(t).errors.description?(o(),u("div",he,p(e(t).errors.description),1)):_("",!0),a(e(y))]),_:1})]),_:1})],32)])],64))}});export{Ae as default};
